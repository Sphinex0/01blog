<div class="markdown-editor-container">
    <div class="shadow">
        <div class="editor-layout">
            <div class="editor-panel">
                <form [formGroup]="postForm" (submit)="onSubmit()" class="form-blog">
                    <label class="panel-label">
                        <button type="submit" class="btn btn-primary with-100">save</button>
                    </label>
                    <label class="panel-label">
                        <input class="title-input"
                            formControlName="title" placeholder="New post title here" type="text"/>
                    </label>

                    <!-- <img [src]="previewUrl" alt="Preview" class="preview-image" /> -->
                    <textarea tool (drop)="onDrop($event)" (paste)="onPaste($event)" class="markdown-textarea NgxEditor__Wrapper" formControlName="content"
                        placeholder="Start typing your markdown here..."></textarea>

                    <!-- Proper error handling -->
                    <div class="panel-label error">
                        @if (postForm.get('content')?.invalid && postForm.get('content')?.touched) {
                        <mat-error>Content is required</mat-error>
                        }
                    </div>
                    <!-- <label >
                        <button type="submit" class="btn btn-primary with-100">save</button>
                    </label> -->
                </form>
            </div>
            <div class="preview-panel">
                <h1>{{ this.postForm.value.title }}</h1>
                <markdown class="markdown-preview" [data]="this.postForm.value.content"></markdown>
            </div>
            <!-- </div> -->
        </div>
    </div>
</div>