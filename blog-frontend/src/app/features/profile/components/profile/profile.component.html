<div class="profile-container">


  <!-- Loading State -->
  @if (isLoadingProfile()) {
    <div class="loading-state">
      <mat-spinner diameter="48"></mat-spinner>
      <p>Loading profile...</p>
    </div>
  }

  <!-- Error State -->
  @if (error() && !user()) {
    <div class="error-state">
      <mat-icon class="error-icon">person_off</mat-icon>
      <h2>Profile Not Found</h2>
      <p>{{ error() }}</p>
      <button mat-raised-button color="primary" (click)="goBack()">
        <mat-icon>home</mat-icon>
        Go to Home
      </button>
    </div>
  }

  <!-- Profile Content -->
  @if (user(); as userData) {
    <div class="profile-content">
      
      <!-- Profile Header -->
      <app-profile-header 
        [user]="userData"
        [isLoading]="isFollowLoading()"
        (followToggle)="onFollowToggle()"
        (shareProfile)="onShareProfile()"
        (reportUser)="onReportUser()"
        (editAvatar)="onEditAvatar($event)">
      </app-profile-header>

      <!-- Profile Posts -->
      <div class="posts-section">
        <h2 class="section-title">Posts</h2>
        <!-- <app-profile-posts 
          [posts]="posts()"
          [isLoading]="isLoadingPosts()"
          [userId]="userData.id">
        </app-profile-posts> -->
        <app-feed [user]="user()"></app-feed>
      </div>

    </div>
  }

</div>