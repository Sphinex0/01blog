<div class="user-card">
  <div class="card-header">
    <a [routerLink]="['/users/profile', user().username]" class="avatar-link">
      @if (user().avatar) {
        <img [src]="getAvatarUrl(user().avatar)" [alt]="user().fullName" class="avatar">
      } @else {
        <div class="avatar-placeholder">
          {{ getInitials(user().fullName) }}
        </div>
      }
    </a>
  </div>

  <div class="card-content">
    <a [routerLink]="['/users/profile', user().username]" class="user-name">
      {{ user().fullName }}
    </a>
    <p class="username">&#64;{{ user().username }}</p>
    
    @if (user().bio) {
      <p class="bio">{{ user().bio }}</p>
    }

    <div class="user-stats">
      <div class="stat">
        <span class="stat-value">{{ user().postsCount || 0 }}</span>
        <span class="stat-label">POSTS</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat">
        <span class="stat-value">{{ user().followersCount || 0 }}</span>
        <span class="stat-label">FOLLOW</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat">
        <span class="stat-value">{{ user().followingCount || 0 }}</span>
        <span class="stat-label">FLLWNG</span>
      </div>
    </div>
  </div>

  <div class="card-actions">
    @if (user().isFollowed) {
      <button 
        (click)="onUnfollow()"
        class="pixel-btn follow-btn following">
        <span class="btn-icon">✓</span>
        FOLLOWING
      </button>
    } @else {
      <button 
        (click)="onFollow()"
        class="pixel-btn follow-btn">
        <span class="btn-icon">+</span>
        FOLLOW
      </button>
    }

    <a 
      [routerLink]="['/users/profile', user().username]"
      class="pixel-btn view-profile-btn">
      VIEW →
    </a>
  </div>
</div>