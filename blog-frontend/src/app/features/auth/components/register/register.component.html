<div class="auth-form-container">
  <div class="form-header">
    <div class="header-icon">üéÆ</div>
    <h2 class="form-title">JOIN 01BLOG</h2>
    <p class="form-subtitle">START YOUR JOURNEY</p>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="pixel-form">
    
    <!-- Full Name Field -->
    <div class="pixel-field">
      <label class="pixel-label">FULL NAME</label>
      <div class="input-wrapper">
        <input 
          type="text"
          formControlName="fullName" 
          placeholder="ENTER YOUR FULL NAME"
          class="pixel-input"
          autocomplete="name">
        <span class="input-icon">üë§</span>
      </div>
      @if (hasFieldError('fullName')) {
        <div class="pixel-error">{{ getFieldErrorMessage('fullName') }}</div>
      }
    </div>

    <!-- Username Field -->
    <div class="pixel-field">
      <label class="pixel-label">USERNAME</label>
      <div class="input-wrapper">
        <input 
          type="text"
          formControlName="username" 
          placeholder="CHOOSE A USERNAME"
          class="pixel-input"
          autocomplete="username">
        <span class="input-icon">@</span>
      </div>
      @if (hasFieldError('username')) {
        <div class="pixel-error">{{ getFieldErrorMessage('username') }}</div>
      }
    </div>

    <!-- Email Field -->
    <div class="pixel-field">
      <label class="pixel-label">EMAIL ADDRESS</label>
      <div class="input-wrapper">
        <input 
          type="email"
          formControlName="email" 
          placeholder="ENTER YOUR EMAIL"
          class="pixel-input"
          autocomplete="email">
        <span class="input-icon">üìß</span>
      </div>
      @if (hasFieldError('email')) {
        <div class="pixel-error">{{ getFieldErrorMessage('email') }}</div>
      }
    </div>

    <!-- Password Field -->
    <div class="pixel-field">
      <label class="pixel-label">PASSWORD</label>
      <div class="input-wrapper">
        <input 
          [type]="hidePassword() ? 'password' : 'text'" 
          formControlName="password" 
          placeholder="CREATE STRONG PASSWORD"
          class="pixel-input"
          autocomplete="new-password">
        <button 
          type="button"
          class="input-toggle"
          (click)="togglePasswordVisibility()">
          <span class="toggle-icon">{{ hidePassword() ? 'üëÅÔ∏è' : 'üîí' }}</span>
        </button>
      </div>
      @if (hasFieldError('password')) {
        <div class="pixel-error">{{ getFieldErrorMessage('password') }}</div>
      }
    </div>

    <!-- Confirm Password Field -->
    <div class="pixel-field">
      <label class="pixel-label">CONFIRM PASSWORD</label>
      <div class="input-wrapper">
        <input 
          [type]="hideConfirmPassword() ? 'password' : 'text'" 
          formControlName="confirmPassword" 
          placeholder="CONFIRM YOUR PASSWORD"
          class="pixel-input"
          autocomplete="new-password">
        <button 
          type="button"
          class="input-toggle"
          (click)="toggleConfirmPasswordVisibility()">
          <span class="toggle-icon">{{ hideConfirmPassword() ? 'üëÅÔ∏è' : 'üîí' }}</span>
        </button>
      </div>
      @if (hasFieldError('confirmPassword')) {
        <div class="pixel-error">{{ getFieldErrorMessage('confirmPassword') }}</div>
      }
    </div>

    <!-- Password Requirements -->
    <div class="password-requirements">
      <div class="requirements-header">
        <span class="req-icon">üîê</span>
        <span class="req-title">PASSWORD RULES:</span>
      </div>
      <ul class="requirements-list">
        <li [class.valid]="passwordHasMinLength()">
          <span class="check-icon">{{ passwordHasMinLength() ? '‚úì' : '‚úó' }}</span>
          AT LEAST 8 CHARACTERS
        </li>
        <li [class.valid]="passwordHasUppercase()">
          <span class="check-icon">{{ passwordHasUppercase() ? '‚úì' : '‚úó' }}</span>
          ONE UPPERCASE (A-Z)
        </li>
        <li [class.valid]="passwordHasLowercase()">
          <span class="check-icon">{{ passwordHasLowercase() ? '‚úì' : '‚úó' }}</span>
          ONE LOWERCASE (a-z)
        </li>
        <li [class.valid]="passwordHasNumber()">
          <span class="check-icon">{{ passwordHasNumber() ? '‚úì' : '‚úó' }}</span>
          ONE NUMBER (0-9)
        </li>
        <li [class.valid]="passwordHasSpecial()">
          <span class="check-icon">{{ passwordHasSpecial() ? '‚úì' : '‚úó' }}</span>
          ONE SPECIAL (#?!@$%^&*-)
        </li>
      </ul>
    </div>

    <!-- Submit Button -->
    <button 
      type="submit" 
      class="pixel-btn pixel-btn-primary"
      [disabled]="registerForm.invalid || isLoading()">
      @if (isLoading()) {
        <span class="btn-spinner">‚è≥</span>
        <span>CREATING...</span>
      } @else {
        <span class="btn-icon">+</span>
        <span>CREATE ACCOUNT</span>
      }
    </button>

  </form>

  <!-- Login Link -->
  <div class="form-footer">
    <div class="divider">
      <span class="divider-text">ALREADY A MEMBER?</span>
    </div>
    <p class="footer-text">
      HAVE AN ACCOUNT ALREADY?
    </p>
    <a [routerLink]="loginRoute" class="pixel-btn pixel-btn-secondary">
      <span class="btn-icon">‚ñ∂</span>
      <span>SIGN IN</span>
    </a>
  </div>
</div>