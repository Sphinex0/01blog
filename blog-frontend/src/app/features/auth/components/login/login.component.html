<div class="auth-form-container">
  <div class="form-header">
    <h2 class="form-title">WELCOME BACK</h2>
    <p class="form-subtitle">ENTER YOUR CREDENTIALS</p>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="pixel-form">
    
    <!-- Username/Email Field -->
    <div class="pixel-field">
      <label class="pixel-label">USERNAME / EMAIL</label>
      <div class="input-wrapper">
        <input 
          type="text"
          formControlName="username" 
          placeholder="ENTER USERNAME OR EMAIL"
          class="pixel-input"
          autocomplete="username">
        <span class="input-icon">@</span>
      </div>
      @if (hasFieldError('username')) {
        <div class="pixel-error">{{ getFieldErrorMessage('username') }}</div>
      }
    </div>

    <!-- Password Field -->
    <div class="pixel-field">
      <label class="pixel-label">PASSWORD</label>
      <div class="input-wrapper">
        <input 
          [type]="hidePassword() ? 'password' : 'text'" 
          formControlName="password" 
          placeholder="ENTER YOUR PASSWORD"
          class="pixel-input"
          autocomplete="current-password">
        <button 
          type="button"
          class="input-toggle"
          (click)="togglePasswordVisibility()"
          [attr.aria-label]="hidePassword() ? 'Show password' : 'Hide password'">
          <span class="toggle-icon">{{ hidePassword() ? 'üëÅÔ∏è' : 'üîí' }}</span>
        </button>
      </div>
      @if (hasFieldError('password')) {
        <div class="pixel-error">{{ getFieldErrorMessage('password') }}</div>
      }
    </div>

    <!-- Submit Button -->
    <button 
      type="submit" 
      class="pixel-btn pixel-btn-primary"
      [disabled]="loginForm.invalid || isLoading()">
      @if (isLoading()) {
        <span class="btn-spinner">‚è≥</span>
        <span>LOGGING IN...</span>
      } @else {
        <span class="btn-icon">‚ñ∂</span>
        <span>LOGIN</span>
      }
    </button>

    <!-- Forgot Password Link -->
    <div class="form-link-container">
      <a href="#" class="form-link">FORGOT PASSWORD?</a>
    </div>

  </form>

  <!-- Register Link -->
  <div class="form-footer">
    <div class="divider">
      <span class="divider-text">NEW HERE?</span>
    </div>
    <p class="footer-text">
      DON'T HAVE AN ACCOUNT?
    </p>
    <a [routerLink]="registerRoute" class="pixel-btn pixel-btn-secondary">
      <span class="btn-icon">+</span>
      <span>CREATE ACCOUNT</span>
    </a>
  </div>
</div>